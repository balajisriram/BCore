<BServerWidget>:
    AnchorLayout:
        BServerAppScreenManager:
            id: screen_manager
            orientation: 'vertical'
            Screen:
                id: base_screen
                name: 'BaseScreen'
                BoxLayout:
                    spacing: 3
                    orientation: 'vertical'
                    ActionBar:
                        id: control_bar
                        pos_hint: {'top': 1}
                        height: 60
                        ActionView:
                            use_separator: True
                            ActionPrevious:
                                title: 'Behavior Server'
                                font_size: 12
                                with_previous: False
                                app_icon: './resources/ServerIcon.png'
                            ActionButton:
                                id: time_button
                                text: root.ux_CurrTime
                            ActionButton:
                                id: widget_close
                                icon: './resources/Close.png'
                                on_press: app.stop()
                    BoxLayout:
                        id: data_listing
                        spacing: 5
                        orientation: 'horizontal'
                        BoxLayout:
                            orientation: 'vertical'
                            size_hint: 0.3,1
                            ActionBar:
                                id: subject_action_bar
                                pos_hint: {'top': 1}
                                height: 32
                                ActionView:
                                    use_separator: True
                                    ActionPrevious:
                                        title: 'Subject Control'
                                        font_size: 12
                                        with_previous: False
                                    ActionButton:
                                        id: subject_filter
                                        icon: './resources/Filter.png'
                                    ActionButton:
                                        id: add_subject
                                        icon: './resources/Add.png'
                                        on_press: screen_manager.current='AddSubject'
                                    ActionButton:
                                        id: subject_help
                                        icon: './resources/Info.png'
                                        on_release: help_menu.changeText(text='Subject')
                            ScrollView:
                                size_hint: 1,1
                                do_scroll_x: False
                                GridLayout:
                                    id:subject_listing
                                    cols: 1
                                    size_hint_y: None
                                    orientation: 'vertical'
                                    spacing: 3
                        GridLayout:
                            size_hint: 0.7,1
                            cols: 1
                            ActionBar:
                                id: station_action_bar
                                pos_hint: {'top': 1}
                                height: 32
                                ActionView:
                                    use_separator: True
                                    ActionPrevious:
                                        title: 'Station Control'
                                        font_size: 12
                                        with_previous: False
                                    ActionButton:
                                        id: subject_filter
                                        icon: './resources/Filter.png'
                                    ActionButton:
                                        id: add_subject
                                        icon: './resources/Add.png'
                                    ActionButton:
                                        id: subject_help
                                        icon: './resources/Info.png'
                            GridLayout:
                                cols: 3
                                id: station_listing
                    BoxLayout:
                        size_hint: 1,0.1
                        orientation: 'horizontal'
                        ActionButton:
                            icon: './resources/Info.png'
                            on_release: help_menu.changeText(text=' Help Menu. Look here for information about the BServer')
                        HelpText:
                            id: help_menu
                            text: 'Help Menu'
            SubjectStatisticsScreen:
                id: subject_statistics
                name: 'SubjectStatistics'
                BoxLayout:
                    spacing: 3
                    orientation: 'vertical'
                    ActionBar:
                        id: control_bar
                        pos_hint: {'top': 1}
                        height: 60
                        ActionView:
                            use_separator: True
                            ActionPrevious:
                                title: 'Subject Statistics'
                                font_size: 12
                                with_previous: True
                                app_icon: './resources/Subject.png'
                                on_press: screen_manager.current='BaseScreen'
                            ActionSeparator:
                            ActionButton:
                                id: time_button
                                text: root.ux_CurrTime
                    Label:
                        id:subject_label
                        text: 'Hello'
            StationStatisticsScreen:
                id: station_statistics
                name: 'StationStatistics'
                BoxLayout:
                    spacing: 3
                    orientation: 'vertical'
                    ActionBar:
                        id: control_bar
                        pos_hint: {'top': 1}
                        height: 60
                        ActionView:
                            use_separator: True
                            ActionPrevious:
                                title: 'Station Statistics'
                                with_previous: True
                                app_icon: './resources/Station.png'
                                on_press: screen_manager.current='BaseScreen'
                            ActionSeparator:
                            ActionButton:
                                id: time_button
                                text: root.ux_CurrTime
            AddSubjectScreen
                id: add_subject
                name: 'AddSubject'
                BoxLayout:
                    spacing: 3
                    orientation: 'vertical'
                    ActionBar:
                        id: control_bar
                        pos_hint: {'top': 1}
                        height: 60
                        ActionView:
                            use_separator: True
                            ActionPrevious:
                                title: 'Add Subject'
                                with_previous: True
                                app_icon: './resources/Station.png'
                                on_press: screen_manager.current='BaseScreen'
                            ActionSeparator:
                            ActionButton:
                                id: time_button
                                text: root.ux_CurrTime
                    BoxLayout:
                        orientation: 'horizontal'
                        id: add_subject_details
                        spacing: 10
                        size_hint: 1,1
                        FloatLayout:
                            orientation: 'vertical'
                            size_hint: 0.2,None
                            height: 350
                            Spinner:
                                id: choose_species
                                text:'Choose Species:'
                                values:['Mouse','Rat','Virtual','Human']
                                size_hint: None,None
                                size: 150,44
                                pos_hint: {'center_x': .5, 'center_y': .5}
                                on_text: add_subject.updateSpeciesSpecificChoice(self.text, species_specific_layout)
                        BoxLayout:
                            id: species_specific_layout
                            spacing: 3
                            size_hint: 0.8, None
                            height: 400
            Screen:
                name: 'StationFilter'

<HelpText>:
    Label:
